---
import me from "../../assets/me.svg?url";
import type { Language } from "../../i18n/config";

interface Props {
  lang: Language;
  translations: any;
}

const { lang, translations } = Astro.props;
const t = translations.about;

const birthDate = new Date(2003, 7, 9);

function calculateAge(birth: Date): number {
  const today = new Date();
  let age = today.getFullYear() - birth.getFullYear();
  const m = today.getMonth() - birth.getMonth();
  if (m < 0 || (m === 0 && today.getDate() < birth.getDate())) {
    age--;
  }
  return age;
}

const age = calculateAge(birthDate);
---

<section id="about">
  <div class="about__wrapper">
    <h2 class="about__title" data-reveal="up"><span>{t.title}</span></h2>
    <div class="about__cols">
      <div class="about__col about__col--left">
        <p data-reveal="up" data-reveal-delay="1">
          {t.paragraphs.p1}
          <span class="highlighted highlighted-primary"
            >{t.paragraphs.p1Highlighted}</span
          > {t.paragraphs.p1End}
        </p>
        <p data-reveal="up" data-reveal-delay="2">
          {t.paragraphs.p2}
        </p>
        <p data-reveal="up" data-reveal-delay="3">
          <span class="highlighted highlighted-primary"
            >{t.paragraphs.p3}</span
          >{t.paragraphs.p3End}
        </p>
        <p data-reveal="up" data-reveal-delay="4">
          {t.paragraphs.p4}
        </p>
        <div class="about__cta" data-reveal="up" data-reveal-delay="5">
          <a
            class="about__cta-cv"
            href="/clement_maillet_cv.pdf"
            download
            draggable="false"><span>CV</span>{t.cta.cv}</a
          >
          <a
            class="about__cta-linkedin"
            href="https://www.linkedin.com/in/cl%C3%A9ment-maillet-632895255/"
            target="_blank"
            rel="noopener noreferrer"
            draggable="false"
          >
            <img
              src="https://www.svgrepo.com/show/512419/linkedin-161.svg"
              alt="LinkedIn"
            />
            {t.cta.linkedin}
          </a>
        </div>
      </div>
      <div class="about__col about__col--right" data-reveal="right" data-reveal-delay="2">
        <img src={me} alt={t.imageAlt} />
      </div>
    </div>
  </div>
</section>
