---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
import navigationScript from "../navigation.js?url";

---

<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta name="color-scheme" content="light only" />
    <script
      defer
      src="https://analytics.maillet.bzh/script.js"
      data-website-id="bfa40e8c-c928-4462-8104-1ba45c1cdcae"></script>
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="generator" content={Astro.generator} />

    <meta name="geo.region" content="FR-56" />
    <meta name="geo.placename" content="Bretagne, France" />

    <meta
      name="description"
      content="Clément Maillet, développeur Full Stack en Bretagne. Découvrez mon portfolio, mes compétences, mes projets et contactez-moi pour vos besoins en développement web, desktop ou mobile."
    />
    <meta name="author" content="Clément Maillet" />
    <meta name="robots" content="index, follow" />

    <meta
      property="og:title"
      content="Clément Maillet - Développeur Full Stack"
    />
    <meta
      property="og:description"
      content="Portfolio de Clément Maillet, développeur Full Stack en Bretagne. Découvrez mes compétences, projets et contactez-moi."
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://maillet.bzh/" />
    <meta property="og:image" content="https://maillet.bzh/Banner.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta
      name="twitter:title"
      content="Clément Maillet - Développeur Full Stack"
    />
    <meta
      name="twitter:description"
      content="Portfolio de Clément Maillet, développeur Full Stack en Bretagne."
    />
    <meta name="twitter:image" content="https://maillet.bzh/Banner.png" />
    <title>Clément Maillet</title>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
    ></script>
    <meta
      name="keywords"
      content="développeur, full stack, bretagne, web, react, node.js, portfolio, clément maillet, développement web, développement desktop, développement mobile"
    />
    <meta name="language" content="fr" />
    <script type="application/ld+json">
      {
        "@type": "Person",
        "name": "Clément Maillet",
        "jobTitle": "Développeur Full Stack",
        "description": "Développeur Full Stack en Bretagne",
        "url": "https://maillet.bzh",
        "image": "https://maillet.bzh/Banner.png",
        "sameAs": [
          "https://www.linkedin.com/in/cl%C3%A9ment-maillet-632895255/",
          "https://github.com/Karbbone"
        ]
      }
    </script>
    <script type="text/javascript">
      (function () {
        emailjs.init({
          publicKey: "hMHpVGsPfIgHbQrdu",
        });
      })();
    </script>
    <script type="text/javascript">
      window.onload = function () {
        const form = document.getElementById("contact-form");
        const submitBtn = form.querySelector(".contact__form-submit");
        form.addEventListener("submit", function (event) {
          event.preventDefault();
          if (!form.checkValidity()) {
            form.reportValidity();
            submitBtn.disabled = false;
            return;
          }
          submitBtn.disabled = true;
          emailjs.sendForm("service_r5nqngg", "template_0d1e8qq", this).then(
            function () {
              const successDiv = document.querySelector(".contact__success");
              successDiv.textContent =
                "Votre message a été envoyé avec succès !";
              successDiv.classList.add("contact__success--visible");
              if (window.grecaptcha) window.grecaptcha.reset();
              form.reset();
              submitBtn.disabled = false;
            },
            function (error) {
              const successDiv = document.querySelector(".contact__success");
              successDiv.textContent =
                "Une erreur s'est produite lors de l'envoi du message.";
              successDiv.classList.add(
                "contact__success--visible",
                "contact__success--error"
              );
              submitBtn.disabled = false;
            }
          );
        });
      };
    </script>
    <script type="module" src={navigationScript}></script>
  </head>

  <body>
    <div id="wrapper">
      <Header />
      <main>
        <slot />
      </main>
    </div>

    <Footer />
    <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  </body>
</html>
